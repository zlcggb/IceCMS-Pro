(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/home"],{1232:function(t,n,e){"use strict";e.r(n);var o=e("5bee"),i=e("2861");for(var u in i)["default"].indexOf(u)<0&&function(t){e.d(n,t,(function(){return i[t]}))}(u);e("aa8b"),e("8856");var s=e("828b"),a=Object(s["a"])(i["default"],o["b"],o["c"],!1,null,"ba70d4f8",null,!1,o["a"],void 0);n["default"]=a.exports},2861:function(t,n,e){"use strict";e.r(n);var o=e("2b98"),i=e.n(o);for(var u in o)["default"].indexOf(u)<0&&function(t){e.d(n,t,(function(){return o[t]}))}(u);n["default"]=i.a},"2b98":function(t,n,e){"use strict";(function(t){var o=e("47a9");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=o(e("c8ae")),u={components:{postList:function(){e.e("components/post-list/post-list").then(function(){return resolve(e("5773"))}.bind(null,e)).catch(e.oe)},topicList:function(){e.e("components/topic-list/topic-list").then(function(){return resolve(e("30cd"))}.bind(null,e)).catch(e.oe)}},data:function(){return{loading:!0,btnStyle:{color:"#fff",backgroundColor:"#efd234"},btnStyle2:{border:"1px solid #efd234",color:"#efd234"},background:{backgroundColor:"unset"},tabs:[{tab_name:"主页"},{tab_name:"图片"},{tab_name:"视频"},{tab_name:"加入圈子"}],current:0,uid:0,postList:[],postLists:[],topicList:[],userInfo:{create_topic_list:[]},userJson:"",loadStatus:"loading",page:1,pages:1}},onLoad:function(t){this.uid=t.uid,this.getUserInfo()},onReachBottom:function(){1==this.current&&(this.page++,this.getPostList()),2==this.current&&(this.pages++,this.getPostLists())},methods:{onBack:function(){t.navigateBack()},follow:function(){var t=this;this.$H.post("user/addFollow",{id:this.userInfo.uid}).then((function(n){200===n.code?t.userInfo.is_follow=!0:t.$u.toast(n.msg)}))},cancelFollow:function(){var t=this;this.$H.post("user/cancelFollow",{id:this.userInfo.uid}).then((function(n){200===n.code&&(t.userInfo.is_follow=!1)}))},tabChange:function(t){this.current=t,1===t&&this.getPostList(),2===t&&this.getPostLists(),3===t&&this.getTopicList()},getPostList:function(){var t=this;this.loadStatus="loading",this.$H.get("post/list",{page:this.page,type:1,uid:this.uid}).then((function(n){t.postList=t.postList.concat(n.result.data),n.result.current_page===n.result.last_page||0===n.result.last_page?t.loadStatus="nomore":t.loadStatus="loadmore"}))},getPostLists:function(){var t=this;this.loadStatus="loading",this.$H.get("post/list",{page:this.pages,type:2,uid:this.uid}).then((function(n){t.postLists=t.postLists.concat(n.result.data),n.result.current_page===n.result.last_page||0===n.result.last_page?t.loadStatus="nomore":t.loadStatus="loadmore"}))},getTopicList:function(){var t=this;this.$H.get("topic/userJoinTopic",{uid:this.uid}).then((function(n){t.topicList=n.result.data}))},getUserInfo:function(){var n=this;t.request({url:i.default.GetUserInfoByid(this.uid),success:function(e){n.userInfo=e.data,console.log(n.userInfo);var o={uid:e.data.uid,username:e.data.name,avatar:e.data.profile};n.userJson=JSON.stringify(o),t.setNavigationBarTitle({title:n.userInfo.name}),n.loading=!1}})}}};n.default=u}).call(this,e("df3c")["default"])},"5bee":function(t,n,e){"use strict";e.d(n,"b",(function(){return i})),e.d(n,"c",(function(){return u})),e.d(n,"a",(function(){return o}));var o={uNavbar:function(){return e.e("uni_modules/uview-ui/components/u-navbar/u-navbar").then(e.bind(null,"2010"))},uAvatar:function(){return e.e("uni_modules/uview-ui/components/u-avatar/u-avatar").then(e.bind(null,"365c"))},uIcon:function(){return e.e("uni_modules/uview-ui/components/u-icon/u-icon").then(e.bind(null,"ff9e"))},uButton:function(){return e.e("uni_modules/uview-ui/components/u-button/u-button").then(e.bind(null,"ca2c"))},uTabs:function(){return Promise.all([e.e("common/vendor"),e.e("uni_modules/uview-ui/components/u-tabs/u-tabs")]).then(e.bind(null,"0fb7"))},postList:function(){return e.e("components/post-list/post-list").then(e.bind(null,"5773"))},topicList:function(){return e.e("components/topic-list/topic-list").then(e.bind(null,"30cd"))},uSkeleton:function(){return e.e("uni_modules/uview-ui/components/u-skeleton/u-skeleton").then(e.bind(null,"7102"))}},i=function(){var t=this,n=t.$createElement;t._self._c;t._isMounted||(t.e0=function(n){return t.$f.jump("/pages/chat/chat?user="+t.userJson)})},u=[]},8856:function(t,n,e){"use strict";var o=e("a24d"),i=e.n(o);i.a},"967b":function(t,n,e){},a24d:function(t,n,e){},aa8b:function(t,n,e){"use strict";var o=e("967b"),i=e.n(o);i.a},d829:function(t,n,e){"use strict";(function(t,n){var o=e("47a9");e("7882");o(e("3240"));var i=o(e("1232"));t.__webpack_require_UNI_MP_PLUGIN__=e,n(i.default)}).call(this,e("3223")["default"],e("df3c")["createPage"])}},[["d829","common/runtime","common/vendor"]]]);