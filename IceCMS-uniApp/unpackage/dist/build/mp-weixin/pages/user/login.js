(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/login"],{"018c":function(n,e,t){},"026f":function(n,e,t){"use strict";t.r(e);var o=t("cea4"),i=t("4b2e");for(var u in i)["default"].indexOf(u)<0&&function(n){t.d(e,n,(function(){return i[n]}))}(u);t("70e6"),t("504c");var r=t("828b"),s=Object(r["a"])(i["default"],o["b"],o["c"],!1,null,"75c2f059",null,!1,o["a"],void 0);e["default"]=s.exports},"4b2e":function(n,e,t){"use strict";t.r(e);var o=t("9d5f"),i=t.n(o);for(var u in o)["default"].indexOf(u)<0&&function(n){t.d(e,n,(function(){return o[n]}))}(u);e["default"]=i.a},"504c":function(n,e,t){"use strict";var o=t("018c"),i=t.n(o);i.a},"70e6":function(n,e,t){"use strict";var o=t("d7d3"),i=t.n(o);i.a},"9d5f":function(n,e,t){"use strict";(function(n){var o=t("47a9");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o(t("c8ae")),u={data:function(){return{isAgreement:!1,flag:!1,loginForm:{username:"",password:""},agreement:[]}},onLoad:function(){this.insweixin(),this.getAgreement()},methods:{gotoForgetPassword:function(){n.navigateTo({url:"/pages/user/forget"})},gotoRegistration:function(){n.navigateTo({url:"/pages/user/reg"})},getAgreement:function(){var n=this;this.$H.get("agreement/list").then((function(e){n.agreement=e.result}))},onAgreement:function(){this.isAgreement?this.isAgreement=!1:this.isAgreement=!0},phoneLoginTest:function(){console.log("ok");var e={email:"23339097@qq.com",gender:null,intro:"这个人很懒，什么都没有留下！",name:"天天",profile:"https://img2.woyaogexing.com/2022/07/17/5bbaa5352282a8f7!400x400.jpg",token:"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VybmFtZSI6ImFkbWluIiwicm9sZSI6ImFkbWluIiwic3ViIjoiMyIsImV4cCI6MTY2Mzk0MjkzNywianRpIjoiMjc3ZmUzNmEtYmJhNC00YWYyLWJhNGUtYjYxZTg1MGZlNDkzIn0.urJBTWVWEXdC19Ieys4_itNHoN6qatNAjI7kGo2Qfa8",userid:"3"};console.log(e),this.$store.commit("login",e),n.reLaunch({url:"/pages/my/my",success:function(n){var e=getCurrentPages()[0];void 0!=e&&null!=e&&e.onLoad()}})},phoneLogin:function(){var e=this;this.isAgreement?n.request({url:i.default.Login(),data:this.loginForm,method:"get",success:function(t){console.log(t),200==t.data.code&&(console.log(t.data.data),e.$store.commit("login",t.data.data),n.reLaunch({url:"/pages/my/my",success:function(n){var e=getCurrentPages()[0];void 0!=e&&null!=e&&e.onLoad()}}))}}):this.$u.toast("请勾选用户协议")},oauth:function(e){var t=this;this.isAgreement?n.login({provider:e,success:function(o){console.log(o.authResult),n.getUserInfo({provider:e,success:function(e){t.$H.post("user/appWxLogin",{openid:e.userInfo.openId,username:e.userInfo.nickName,avatar:e.userInfo.avatarUrl,province:e.userInfo.province,city:e.userInfo.city,gender:e.userInfo.gender,unionid:e.userInfo.unionId}).then((function(e){console.log(e),200===e.code?(t.$store.commit("login",e.result),n.switchTab({url:"/pages/index/index"})):n.navigateBack()}))}})},fail:function(n){console.error("授权登录失败:"+JSON.stringify(n))}}):this.$u.toast("请勾选用户协议")},getUserInfo:function(){this.$H.get("user/userInfo").then((function(e){n.setStorageSync("userInfo",e.result)}))},insweixin:function(){this.flag=plus.runtime.isApplicationExist({pname:"com.tencent.mm",action:"weixin://"})}}};e.default=u}).call(this,t("df3c")["default"])},c2b6:function(n,e,t){"use strict";(function(n,e){var o=t("47a9");t("7882");o(t("3240"));var i=o(t("026f"));n.__webpack_require_UNI_MP_PLUGIN__=t,e(i.default)}).call(this,t("3223")["default"],t("df3c")["createPage"])},cea4:function(n,e,t){"use strict";t.d(e,"b",(function(){return i})),t.d(e,"c",(function(){return u})),t.d(e,"a",(function(){return o}));var o={uButton:function(){return t.e("uni_modules/uview-ui/components/u-button/u-button").then(t.bind(null,"ca2c"))},qButton:function(){return t.e("components/q-button/q-button").then(t.bind(null,"0899"))},uIcon:function(){return t.e("uni_modules/uview-ui/components/u-icon/u-icon").then(t.bind(null,"ff9e"))}},i=function(){var n=this.$createElement;this._self._c},u=[]},d7d3:function(n,e,t){}},[["c2b6","common/runtime","common/vendor"]]]);