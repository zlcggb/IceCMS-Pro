(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/circle/circle"],{"0608":function(t,o,e){"use strict";(function(t,o){var s=e("47a9");e("7882");s(e("3240"));var n=s(e("decf"));t.__webpack_require_UNI_MP_PLUGIN__=e,o(n.default)}).call(this,e("3223")["default"],e("df3c")["createPage"])},1832:function(t,o,e){"use strict";e.r(o);var s=e("6196"),n=e.n(s);for(var i in s)["default"].indexOf(i)<0&&function(t){e.d(o,t,(function(){return s[t]}))}(i);o["default"]=n.a},"4d9e":function(t,o,e){},6196:function(t,o,e){"use strict";(function(t){var s=e("47a9");Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var n=s(e("c8ae")),i={components:{postList:function(){e.e("components/post-list/post-list").then(function(){return resolve(e("5773"))}.bind(null,e)).catch(e.oe)}},data:function(){return{showAddPopup:!1,sessionUid:t.getStorageSync("userInfo").uid,loadStatus1:"loadmore",loadStatus2:"loadmore",loadStatus3:"loadmore",loadStatus4:"loadmore",loadStatus5:"loadmore",loadStatus6:"loadmore",page:1,page2:1,page3:1,page4:1,page5:1,page6:1,shareCover:"",topDisList:[],swiperList:[],followUserPost:[],joinTopicPost:[],touPost:[],tabList:[{name:"关注"},{name:"圈子"},{name:"图文"},{name:"视频"},{name:"投票"}],addPopup:[{icon:"/static/h_2.png",text:"动态",url:"/pages/post/add?type=1"},{icon:"/static/h_3.png",text:"视频",url:"/pages/post/add?type=2"},{icon:"/static/h_1.png",text:"投票",url:"/pages/post/vote"}],current:1,joinTopicList:[],imgPost:[],videoPost:[]}},computed:{msgCount:function(){return this.$store.state.messegeNum}},onLoad:function(){this.getSysInfo(),this.getFollowUserPost(),this.getJoinTopicPost(),this.getUserJoinTopic(),this.getimgPost(),this.getvideoPost(),this.gettouPost()},onShow:function(){this.$store.state.userInfo.uid&&this.getMsgNum()},onReachBottom:function(){0===this.current&&(this.page2++,this.getFollowUserPost()),1===this.current&&(this.page3++,this.getJoinTopicPost()),2===this.current&&(this.page4++,this.getimgPost()),3===this.current&&(this.page5++,this.getvideoPost()),4===this.current&&(this.page6++,this.gettouPost())},onPullDownRefresh:function(){0===this.current&&(this.page2=1,this.followUserPost=[],this.getFollowUserPost()),1===this.current&&(this.page3=1,this.joinTopicPost=[],this.getJoinTopicPost(),this.getUserJoinTopic()),2===this.current&&(this.page4=1,this.imgPost=[],this.getimgPost()),3===this.current&&(this.page5=1,this.videoPost=[],this.getvideoPost()),4===this.current&&(this.page6=1,this.touPost=[],this.gettouPost()),t.stopPullDownRefresh()},methods:{getMsgNum:function(){var t=this;this.$H.post("message/num").then((function(o){t.$store.state.messegeNum=[0,0,0,o.result.all_count,0]}))},handleJump:function(o){t.navigateTo({url:o.url}),this.showAddPopup=!1},tabChange:function(t){this.current=t},getUserJoinTopic:function(){var o=this;this.loadStatus="loading",this.$H.post("topic/userJoinTopic",{class_id:this.topicClassId}).then((function(e){o.joinTopicList=e.result.data,t.stopPullDownRefresh()}))},getimgPost:function(){var t=this;this.loadStatus4="loading",this.$H.get("post/list",{page:this.page4,type:1}).then((function(o){t.imgPost=t.imgPost.concat(o.result.data),o.result.current_page===o.result.last_page||0===o.result.last_page?t.loadStatus4="nomore":t.loadStatus4="loadmore"}))},getvideoPost:function(){var t=this;this.loadStatus5="loading",this.$H.get("post/list",{page:this.page5,type:2}).then((function(o){t.videoPost=t.videoPost.concat(o.result.data),o.result.current_page===o.result.last_page||0===o.result.last_page?t.loadStatus5="nomore":t.loadStatus5="loadmore"}))},gettouPost:function(){var t=this;this.loadStatus6="loading",this.$H.get("post/list",{page:this.page6,type:4}).then((function(o){t.touPost=t.touPost.concat(o.result.data),o.result.current_page===o.result.last_page||0===o.result.last_page?t.loadStatus6="nomore":t.loadStatus6="loadmore"}))},jump:function(o){t.navigateTo({url:o})},getSysInfo:function(){var t=this;this.$H.get("system/miniConfig").then((function(o){t.shareCover=o.result.intro}))},getJoinTopicPost:function(){var o=this;this.loadStatus3="loading",t.request({url:n.default.GetAllSquare("circle",this.page3,6),success:function(t){o.joinTopicPost=o.joinTopicPost.concat(t.data.data),o.page3===t.data.pages?o.loadStatus3="暂无更多":o.loadStatus3="loadmore"}})},getFollowUserPost:function(){var t=this;this.loadStatus1="loading",this.$H.get("post/followUserPost",{page:this.page2}).then((function(o){t.followUserPost=t.followUserPost.concat(o.result.data),o.result.current_page===o.result.last_page||0===o.result.last_page?t.loadStatus1="nomore":t.loadStatus1="loadmore"}))}}};o.default=i}).call(this,e("df3c")["default"])},"71f2":function(t,o,e){},"866f":function(t,o,e){"use strict";e.d(o,"b",(function(){return n})),e.d(o,"c",(function(){return i})),e.d(o,"a",(function(){return s}));var s={uNavbar:function(){return e.e("uni_modules/uview-ui/components/u-navbar/u-navbar").then(e.bind(null,"2010"))},uTabs:function(){return Promise.all([e.e("common/vendor"),e.e("uni_modules/uview-ui/components/u-tabs/u-tabs")]).then(e.bind(null,"0fb7"))},postList:function(){return e.e("components/post-list/post-list").then(e.bind(null,"5773"))},uImage:function(){return e.e("uni_modules/uview-ui/components/u-image/u-image").then(e.bind(null,"0a8e"))},circleList:function(){return Promise.all([e.e("common/vendor"),e.e("components/circle-list/circle-list")]).then(e.bind(null,"71b3"))},uPopup:function(){return e.e("uni_modules/uview-ui/components/u-popup/u-popup").then(e.bind(null,"d940"))},uIcon:function(){return e.e("uni_modules/uview-ui/components/u-icon/u-icon").then(e.bind(null,"ff9e"))}},n=function(){var t=this,o=t.$createElement,e=(t._self._c,1===t.current?t.__map(t.joinTopicList,(function(o,e){var s=t.__get_orig(o),n=o.topic_name.substring(0,4);return{$orig:s,g0:n}})):null);t._isMounted||(t.e0=function(o){t.showAddPopup=!1},t.e1=function(o){t.showAddPopup=!t.showAddPopup}),t.$mp.data=Object.assign({},{$root:{l0:e}})},i=[]},"867e":function(t,o,e){"use strict";var s=e("71f2"),n=e.n(s);n.a},"9a2a":function(t,o,e){"use strict";var s=e("4d9e"),n=e.n(s);n.a},decf:function(t,o,e){"use strict";e.r(o);var s=e("866f"),n=e("1832");for(var i in n)["default"].indexOf(i)<0&&function(t){e.d(o,t,(function(){return n[t]}))}(i);e("9a2a"),e("867e");var u=e("828b"),a=Object(u["a"])(n["default"],s["b"],s["c"],!1,null,"5ff1288e",null,!1,s["a"],void 0);o["default"]=a.exports}},[["0608","common/runtime","common/vendor"]]]);