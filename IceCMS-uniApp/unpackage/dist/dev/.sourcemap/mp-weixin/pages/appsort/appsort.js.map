{"version":3,"sources":["uni-app:///main.js","webpack:////Users/gaohaotian/Documents/UniPrograme/IceCMS-uniApp/pages/appsort/appsort.vue?4a1c","webpack:////Users/gaohaotian/Documents/UniPrograme/IceCMS-uniApp/pages/appsort/appsort.vue?40f4","webpack:////Users/gaohaotian/Documents/UniPrograme/IceCMS-uniApp/pages/appsort/appsort.vue?edbb","webpack:////Users/gaohaotian/Documents/UniPrograme/IceCMS-uniApp/pages/appsort/appsort.vue?14e4","uni-app:///pages/appsort/appsort.vue"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":";;;;;;;;;;kDAAA;;;AAGA;AACA,mG,8FAHA;AACAA,EAAE,CAACC,iCAAH,GAAuCC,mBAAvC,CAGAC,UAAU,CAACC,gBAAD,CAAV,C;;;;;;;;;;;;;ACLA;AAAA;AAAA;AAAA;AAAA;AAAoH;AACpH;AAC2D;AACL;;;AAGtD;AACgN;AAChN,gBAAgB,iNAAU;AAC1B,EAAE,6EAAM;AACR,EAAE,kFAAM;AACR,EAAE,2FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,sFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,gNAEN;AACP,KAAK;AACL;AACA,aAAa,kOAEN;AACP,KAAK;AACL;AACA,aAAa,gQAEN;AACP;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC3CA;AAAA;AAAA;AAAA;AAAq0B,CAAgB,qyBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACyCz1B,sF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;2xCAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,qB,eAIA,EACA,cACA,8BADA,EAEA,oBAFA,EAGA,8BAHA,EAIA,4BAJA,EADA,EAOA,IAPA,kBAOA,CACA,SACA,SADA,GAGA,CAXA,EAYA,MAZA,oBAYA,CACA,CAbA,EAcA,MAdA,oBAcA,CACA,cACA,CAhBA,EAiBA,WACA,2CACA,kBACA,iBACA,gEADA,IAGA,CANA,EAOA,4CACA,cACA,0BADA,IAEA,IAFA,CAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,uBADA;AAEA,sBAFA;AAGA,sBAHA;AAIA,uBAJA;AAKA,uBALA;AAMA,uBANA;AAOA,wBAPA;AAQA,oBARA;;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,SA1BA,MA0BA;AACA;AACA;AACA,OAjCA;AAkCA,KA1CA;AA2CA,eA3CA,yBA2CA;AACA;AACA,KA7CA;AA8CA,mBA9CA,2BA8CA,GA9CA,EA8CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA5DA;AA6DA,cA7DA,wBA6DA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,SANA,MAMA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA,OAlBA,EAkBA,GAlBA;AAmBA,KAnFA,EAjBA,E","file":"pages/appsort/appsort.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/appsort/appsort.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./appsort.vue?vue&type=template&id=407c54f4&\"\nvar renderjs\nimport script from \"./appsort.vue?vue&type=script&lang=js&\"\nexport * from \"./appsort.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/appsort/appsort.vue\"\nexport default component.exports","export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./appsort.vue?vue&type=template&id=407c54f4&\"","var components\ntry {\n  components = {\n    nNavbar: function() {\n      return import(\n        /* webpackChunkName: \"nPro/navbar/navbar\" */ \"@/nPro/navbar/navbar.vue\"\n      )\n    },\n    nWaterfall: function() {\n      return import(\n        /* webpackChunkName: \"nPro/waterfall/waterfall\" */ \"@/nPro/waterfall/waterfall.vue\"\n      )\n    },\n    nWaterfallView: function() {\n      return import(\n        /* webpackChunkName: \"nPro/waterfall-view/waterfall-view\" */ \"@/nPro/waterfall-view/waterfall-view.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./appsort.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./appsort.vue?vue&type=script&lang=js&\"","<template>\n\t<view>\n\t\t<n-navbar title=\"分类\"></n-navbar>\n\t\t<!-- #ifdef APP-NVUE -->\n\t\t<n-waterfall ref=\"n-list\" bgType=\"inverse\" :autoUpdate=\"true\" @down=\"toLoadData\" @up=\"NewLoadData\" :columnCount=\"2\" leftGap=\"20rpx\" rightGap=\"20rpx\" columnGap=\"20rpx\">\n\t\t\t<view slot=\"header\" style=\"height: 20rpx;\"></view>\n\t\t\t<n-list-cell v-for=\"(item,idx) in items\" :key=\"idx\">\n\t\t\t\t<goods-topic-cell v-if=\"item.type==='topic'\" :item=\"item\"></goods-topic-cell>\n\t\t\t\t<goods-cell v-if=\"item.type==='goods'\" :item=\"item\"></goods-cell>\n\t\t\t\t<goods-flash-cell v-if=\"item.type==='flash'\" :item=\"item\"></goods-flash-cell>\n\t\t\t\t<goods-club-cell v-if=\"item.type==='club'\" :item=\"item\"></goods-club-cell>\n\t\t\t</n-list-cell>\n\t\t</n-waterfall>\n\t\t<!-- #endif -->\n\t\t<!-- #ifndef APP-NVUE -->\n\t\t<n-waterfall ref=\"n-list\" bgType=\"inverse\" :autoUpdate=\"true\" @down=\"toLoadData\" @up=\"NewLoadData\" :columnCount=\"2\" leftGap=\"20rpx\" rightGap=\"20rpx\" columnGap=\"10rpx\">\n\t\t\t<view slot=\"header\" style=\"height: 20rpx;\"></view>\n\t\t\t<n-waterfall-view ref=\"water\" leftGap=\"20rpx\" rightGap=\"20rpx\" columnGap=\"10rpx\" :calculator=\"calculateHeight\">\n\t\t\t\t<template v-slot:left=\"{lefts}\">\n\t\t\t\t\t<template v-for=\"(item,idx) in lefts\"  @detail=\"goSortList(item.name,item.id)\"  >\n\t\t\t\t\t\t<goods-topic-cell v-if=\"item.type==='topic'\" @detail=\"goSortList(item.name,item.id)\" :key=\"idx\" :item=\"item\"></goods-topic-cell>\n\t\t\t\t\t\t<goods-cell v-if=\"item.type==='goods'\" @detail=\"goSortList(item.name,item.id)\" :key=\"idx\" :item=\"item\"></goods-cell>\n\t\t\t\t\t\t<goods-flash-cell v-if=\"item.type==='flash'\" @detail=\"goSortList(item.name,item.id)\" :key=\"idx\" :item=\"item\"></goods-flash-cell>\n\t\t\t\t\t\t<goods-club-cell v-if=\"item.type==='club'\" @detail=\"goSortList(item.name,item.id)\" :key=\"idx\" :item=\"item\"></goods-club-cell>\n\t\t\t\t\t</template>\n\t\t\t\t</template>\n\t\t\t\t<template v-slot:right=\"{rights}\">\n\t\t\t\t\t<template v-for=\"(item,idx) in rights\">\n\t\t\t\t\t\t<goods-topic-cell v-if=\"item.type==='topic'\" @detail=\"goSortList(item.name,item.id)\" :key=\"idx\" :item=\"item\"></goods-topic-cell>\n\t\t\t\t\t\t<goods-cell v-if=\"item.type==='goods'\" @detail=\"goSortList(item.name,item.id)\" :key=\"idx\" :item=\"item\"></goods-cell>\n\t\t\t\t\t\t<goods-flash-cell v-if=\"item.type==='flash'\" @detail=\"goSortList(item.name,item.id)\" :key=\"idx\" :item=\"item\"></goods-flash-cell>\n\t\t\t\t\t\t<goods-club-cell v-if=\"item.type==='club'\" @detail=\"goSortList(item.name,item.id)\" :key=\"idx\" :item=\"item\"></goods-club-cell>\n\t\t\t\t\t</template>\n\t\t\t\t</template>\n\t\t\t</n-waterfall-view>\n\t\t</n-waterfall>\n\t\t<!-- #endif -->\n\t</view>\n</template>\n\n<script>\n\timport API from '../../utils/api.js';\n\t\t\n\timport goodsTopicCell from '@/components/goods/goodsTopicCell.vue'\n\timport goodsCell from '@/components/goods/goodsCell.vue'\n\timport goodsFlashCell from '@/components/goods/goodsFlashCell.vue'\n\timport goodsClubCell from '@/components/goods/goodsClubCell.vue'\n\t\n\n\t// const defaultData = [\n\t// \t{cover: '/static/sea.jpeg', name: '开发好工具，种草全世界', type: 'topic', topic: '#精选好物推荐#', label: '好物推荐', width: 575, height: 480},\n\t// \t{cover: '/static/house1.jpeg', name: '全新与优雅的设计', type: 'goods', topic: '#年度最佳设计#', label: '好物推荐', tags: '新品,最佳', price: 399.00, sale: 369, vip: 349, saleNum: 3699, width: 546, height: 410},\n\t// \t{cover: '/static/house2.jpeg', name: '高质量高效率高实用', type: 'flash', topic: '#年度最受欢迎#', label: '好物推荐', tags: '新品,热门', price: 399.00, sale: 369, saleNum: 3699, width: 1000, height: 1205},\n\t// \t{cover: '/static/bg-greek.png', name: '主题搭配优秀，一键换肤', type: 'club', topic: '#年度最佳搭配#', label: '好物推荐', tags: '热卖,3人团', price: 399.00, sale: 369, saleNum: 3699, width: 928, height: 1158},\n\t// \t{cover: '/static/bg-newyork.png', name: '国际化/动画/手势全面突破', type: 'goods', topic: '#msi冠军#', label: '好物推荐', tags: '新品,突破', price: 399.00, sale: 369, saleNum: 3699, width: 928, height: 1158},\n\t// \t{cover: '/static/bg-greek.png', name: '主题搭配优秀，一键换肤', type: 'club', topic: '#年度最佳搭配#', label: '好物推荐', tags: '热卖,3人团', price: 399.00, sale: 369, saleNum: 3699, width: 928, height: 1158},\n\t// \t{cover: '/static/bg-newyork.png', name: '国际化/动画/手势全面突破', type: 'goods', topic: '#msi冠军#', label: '好物推荐', tags: '新品,突破', price: 399.00, sale: 369, saleNum: 3699, width: 928, height: 1158},\n\t// \t{cover: '/static/house2.jpeg', name: '高质量高效率高实用', type: 'flash', topic: '#年度最受欢迎#', label: '好物推荐', tags: '新品,热门', price: 399.00, sale: 369, saleNum: 3699, width: 1000, height: 1205},\n\t// ]\n\t\n\tconst defaultData = [\n\n\t]\n\t\n\texport default {\n\t\tcomponents: {\n\t\t\tgoodsTopicCell,\n\t\t\tgoodsCell,\n\t\t\tgoodsFlashCell,\n\t\t\tgoodsClubCell\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\titems: []\n\t\t\t}\n\t\t},\n\t\tonShow() {\n\t\t},\n\t\tonLoad() {\n\t\t\tthis.getCat();\n\t\t},\n\t\tmethods: {\n\t\t\tgoSortList: function(name,id) {\n\t\t\t\tconsole.log(\"go\")\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: \"/pages/appsort/appsortlist?category=\" + name+\"&id=\"+id\n\t\t\t\t})\n\t\t\t},\n\t\t\tgetCat: function() {\n\t\t\t\tuni.request({\n\t\t\t\t\turl: API.GetCat()\n\t\t\t\t}).then(res => {\n\t\t\t\t\tvar ress = res[1].data;\n\t\t\t\t\tif (typeof(ress) != 'undefined'&&ress != \"none\"&&ress!=\"NULL\") {\n\t\t\t\t\t\tconst catList = res[1].data\n\t\t\t\t\t\n\t\t\t\t\t\tfor(var i=0 ; i<catList.length ; i++){\n\t\t\t\t\t\t\tconst catLists = {\n\t\t\t\t\t\t\t\tcover:\"\",\n\t\t\t\t\t\t\t\tname:\"\",\n\t\t\t\t\t\t\t\ttype:\"\",\n\t\t\t\t\t\t\t\ttopic:\"\",\n\t\t\t\t\t\t\t\tlabel:\"\",\n\t\t\t\t\t\t\t\twidth:\"\",\n\t\t\t\t\t\t\t\theight:\"\",\n\t\t\t\t\t\t\t\tid:\"\"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tcatLists.id =  catList[i].id\n\t\t\t\t\t\t\tcatLists.cover = catList[i].imgclass\n\t\t\t\t\t\t\tcatLists.name = catList[i].name\n\t\t\t\t\t\t\tcatLists.type = 'topic'\n\t\t\t\t\t\t\tcatLists.topic = '#精选好物推荐#'\n\t\t\t\t\t\t\tcatLists.label = '好物推荐'\n\t\t\t\t\t\t\tcatLists.width = 575\n\t\t\t\t\t\t\tcatLists.height =  480\n\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tdefaultData.push(catLists)\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.showlist=false;\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\tNewLoadData() {\n\t\t\t\tuni.$emit(\"刷新成功\")\n\t\t\t},\n\t\t\tcalculateHeight(val) {\n\t\t\t\tlet h = val.height * 350 / val.width\n\t\t\t\tif (h > 400) {\n\t\t\t\t\t// 限制最高400\n\t\t\t\t\th = 400\n\t\t\t\t}\n\t\t\t\tif (h < 100) {\n\t\t\t\t\th = 100\n\t\t\t\t}\n\t\t\t\t// 只计算有差别的地方，高度相同的地方不做计算\n\t\t\t\tif (val.type != 'topic' ) {\n\t\t\t\t\th += 10 + 32 + 24 + 38\n\t\t\t\t}\n\t\t\t\treturn {h: h}\n\t\t\t},\n\t\t\ttoLoadData() {\n\t\t\t\tconst ins = this.$refs['n-list']\n\t\t\t\tconst cp = ins.nCurrentPage\n\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\tif (cp===1) {\n\t\t\t\t\t\tthis.items = defaultData\n\t\t\t\t\t\t// #ifndef APP-NVUE\n\t\t\t\t\t\tthis.$refs['water'].clear()\n\t\t\t\t\t\tthis.$refs['water'].set(defaultData)\n\t\t\t\t\t\t// #endif\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.items = this.items.concat(defaultData)\n\t\t\t\t\t\t// #ifndef APP-NVUE\n\t\t\t\t\t\tthis.$refs['water'].concat(defaultData)\n\t\t\t\t\t\t// #endif\n\t\t\t\t\t}\n\t\t\t\t\tif (cp >= 4) {\n\t\t\t\t\t\tins.nEndSuccess(false)\n\t\t\t\t\t} else {\n\t\t\t\t\t\tins.nEndSuccess(true)\n\t\t\t\t\t}\n\t\t\t\t}, 300)\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style>\n\n</style>\n"],"sourceRoot":""}