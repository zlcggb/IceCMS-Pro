(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-34a56ee0"],{"0b58":function(t,e,r){},"117e":function(t,e,r){"use strict";var o=r("b775");e["a"]={list:function(){return Object(o["a"])({url:"/Pay-api/order-info/list",method:"get"})},PaylistById:function(t){return Object(o["a"])({url:"/Pay-api/order-info/PaylistById/"+t,method:"get"})},queryOrderStatus:function(t){return Object(o["a"])({url:"/Pay-api/order-info/query-order-status/"+t,method:"get"})},queryOrderStatusBytrue:function(t,e){return Object(o["a"])({url:"/Pay-api/order-info/query-order-status-Bytrue/"+t+"/"+e,method:"get"})}}},b597:function(t,e,r){"use strict";r.r(e);var o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"bg-fa of"},[r("section",{staticClass:"container",attrs:{id:"index"}},[r("el-table",{staticStyle:{width:"100%"},attrs:{data:t.list}},[r("el-table-column",{attrs:{type:"index",width:"50"}}),r("el-table-column",{attrs:{prop:"orderNo",label:"订单编号",width:"230"}}),r("el-table-column",{attrs:{prop:"title",label:"订单标题"}}),r("el-table-column",{attrs:{prop:"totalFee",label:"订单金额"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.totalFee/100)+" 元 ")]}}])}),r("el-table-column",{attrs:{label:"订单状态"},scopedSlots:t._u([{key:"default",fn:function(e){return["未支付"===e.row.orderStatus?r("el-tag",[t._v(" "+t._s(e.row.orderStatus)+" ")]):t._e(),"支付成功"===e.row.orderStatus?r("el-tag",{attrs:{type:"success"}},[t._v(" "+t._s(e.row.orderStatus)+" ")]):t._e(),"超时已关闭"===e.row.orderStatus?r("el-tag",{attrs:{type:"warning"}},[t._v(" "+t._s(e.row.orderStatus)+" ")]):t._e(),"用户已取消"===e.row.orderStatus?r("el-tag",{attrs:{type:"info"}},[t._v(" "+t._s(e.row.orderStatus)+" ")]):t._e(),"退款中"===e.row.orderStatus?r("el-tag",{attrs:{type:"danger"}},[t._v(" "+t._s(e.row.orderStatus)+" ")]):t._e(),"已退款"===e.row.orderStatus?r("el-tag",{attrs:{type:"info"}},[t._v(" "+t._s(e.row.orderStatus)+" ")]):t._e()]}}])}),r("el-table-column",{attrs:{label:"操作",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return["未支付"===e.row.orderStatus?r("el-button",{attrs:{type:"text"},on:{click:function(r){return t.cancel(e.row.orderNo)}}},[t._v("取消")]):t._e(),"支付成功"===e.row.orderStatus?r("el-button",{attrs:{type:"text"},on:{click:function(r){return t.refund(e.row.orderNo)}}},[t._v("退款")]):t._e()]}}])})],1)],1),r("el-dialog",{attrs:{visible:t.refundDialogVisible,width:"350px",center:""},on:{"update:visible":function(e){t.refundDialogVisible=e},close:t.closeDialog}},[r("el-form",[r("el-form-item",{attrs:{label:"退款原因"}},[r("el-select",{attrs:{placeholder:"请选择退款原因"},model:{value:t.reason,callback:function(e){t.reason=e},expression:"reason"}},[r("el-option",{attrs:{label:"不喜欢",value:"不喜欢"}}),r("el-option",{attrs:{label:"买错了",value:"买错了"}})],1)],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"primary",disabled:t.refundSubmitBtnDisabled},on:{click:function(e){return t.toRefunds()}}},[t._v("确 定")])],1)],1)],1)},s=[],a=r("117e"),n={data:function(){return{list:[],refundDialogVisible:!1,orderNo:"",reason:"",refundSubmitBtnDisabled:!1}},created:function(){this.showOrderList()},methods:{showOrderList:function(){var t=this,e=JSON.parse(window.localStorage.getItem("access-admin"));this.userJudje=null==e,this.userJudje||(this.userid=e.data.userid),a["a"].PaylistById(this.userid).then((function(e){console.log(e),t.list=e.data.data.list}))},cancel:function(t){var e=this;wxPayApi.cancel(t).then((function(t){e.$message.success(t.message),e.showOrderList()}))},refund:function(t){this.refundDialogVisible=!0,this.orderNo=t},closeDialog:function(){console.log("close................."),this.refundDialogVisible=!1,this.orderNo="",this.reason="",this.refundSubmitBtnDisabled=!1},toRefunds:function(){var t=this;this.refundSubmitBtnDisabled=!0,wxPayApi.refunds(this.orderNo,this.reason).then((function(e){console.log("response",e),t.closeDialog(),t.showOrderList()}))}}},i=n,l=(r("fbbd"),r("2877")),u=Object(l["a"])(i,o,s,!1,null,"726fb9ea",null);e["default"]=u.exports},fbbd:function(t,e,r){"use strict";r("0b58")}}]);