(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-26df11ee"],{"0e1a":function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"home"},[i("div",[i("el-dialog",{attrs:{visible:t.wxDialogVisible,"show-close":!1,width:"320px",center:""},on:{"update:visible":function(a){t.wxDialogVisible=a},close:t.closeDialog}},[i("h5",{staticClass:"outh5"},[i("img",{staticClass:"alipaybig_icon",attrs:{src:e("2d81")}})]),i("h5",{staticClass:"outh5"},[i("div",{staticClass:"bottom alipay"},[t._v(" 使用扫码支付 "+t._s(this.form.integral)+"元 ")])]),i("h5",{staticClass:"outh5"},[i("qriously",{attrs:{value:t.codeUrl,size:190}})],1),i("div",{staticStyle:{height:"40px"}}),i("h5",{staticClass:"outh7"},[i("div",{staticClass:"bottom alipay",staticStyle:{color:"#e0e0e0"}},[t._v(" 请使用微信扫一扫"),i("br"),t._v("扫描二维码支付"),i("br")])])])],1),i("div",[i("el-dialog",{attrs:{visible:t.aliDialogVisible,"show-close":!1,width:"320px",center:""},on:{"update:visible":function(a){t.aliDialogVisible=a},close:t.closeDialog}},[i("h5",{staticClass:"outh5"},[i("img",{staticClass:"alipaybig_icon",attrs:{src:e("29d4")}})]),i("h5",{staticClass:"outh5"},[i("div",{staticClass:"bottom alipay"},[t._v(" 使用扫码支付 "+t._s(this.form.integral)+"元 ")])]),i("h5",{staticClass:"outh5"},[i("qriously",{attrs:{value:t.codeUrl,size:190}})],1),i("div",{staticStyle:{height:"40px"}}),i("h5",{staticClass:"outh6"},[i("div",{staticClass:"bottom alipay",staticStyle:{color:"#e0e0e0"}},[t._v(" 请使用支付宝扫一扫"),i("br"),t._v("扫描二维码支付"),i("br")])])])],1),i("el-dialog",{attrs:{visible:t.PaymentDialogVisibleLogin,"show-close":!1,width:"320px",center:""},on:{"update:visible":function(a){t.PaymentDialogVisibleLogin=a},close:t.closeDialog}},[i("h6",{staticClass:"outh5"},[t._v("请选择支付方式")]),i("div",{staticClass:"swal2-content"},[i("div",{staticStyle:{display:"block"},attrs:{id:"swal2-content"}},[i("div",{staticClass:"pay-button-box"},[i("div",{staticClass:"pay-item",attrs:{id:"alipay","data-type":"1"},on:{click:function(a){return t.selectPayTypeLogin("alipay")}}},[i("img",{staticStyle:{"margin-right":"14px"},attrs:{height:"40",width:"40",src:e("530d")}}),i("span",[t._v("支付宝")])]),i("div",{staticClass:"pay-item",attrs:{id:"weixinpay","data-type":"2"},on:{click:function(a){return t.selectPayTypeLogin("wxpay")}}},[i("img",{staticStyle:{margin:"12px"},attrs:{height:"40",width:"40",src:e("f360")}}),i("span",[t._v("微信支付")])]),i("div",{staticClass:"pay-item",attrs:{id:"weixinpay","data-type":"2"},on:{click:function(a){return t.selectPayTypeLogin("wxpay")}}},[i("img",{staticStyle:{margin:"12px"},attrs:{height:"40",width:"40",src:e("27d9")}}),i("span",[t._v("积分支付")])])]),i("p",{staticStyle:{"font-size":"13px",padding:"0",margin:"0"}})]),i("input",{staticClass:"swal2-input",staticStyle:{display:"none"}}),i("input",{staticClass:"swal2-file",staticStyle:{display:"none"},attrs:{type:"file"}}),i("div",{staticClass:"swal2-range",staticStyle:{display:"none"}},[i("input",{attrs:{type:"range"}}),i("output")]),i("select",{staticClass:"swal2-select",staticStyle:{display:"none"}}),i("div",{staticClass:"swal2-radio",staticStyle:{display:"none"}}),i("label",{staticClass:"swal2-checkbox",staticStyle:{display:"none"},attrs:{for:"swal2-checkbox"}},[i("input",{attrs:{type:"checkbox"}}),i("span",{staticClass:"swal2-label"})]),i("textarea",{staticClass:"swal2-textarea",staticStyle:{display:"none"}}),i("div",{staticClass:"swal2-validation-message",staticStyle:{display:"none"},attrs:{id:"swal2-validation-message"}})])]),i("div",{staticClass:"homeContent"},[i("el-form",{ref:"form",attrs:{model:t.form,"label-width":"80px"}},[i("el-row",[i("el-col",{attrs:{span:24}},[i("div",{staticClass:"postInfo-container"},[i("el-row",[i("el-col",{attrs:{span:8}},[i("div",{staticStyle:{"margin-left":"80px"}},[t._v("输入充积分数量:")]),i("el-form-item",[i("el-input",{staticStyle:{width:"220px"},model:{value:t.form.integral,callback:function(a){t.$set(t.form,"integral",a)},expression:"form.integral"}}),t._v("积分 ")],1)],1)],1)],1)])],1),i("el-form-item",[i("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("立即充值")])],1)],1)],1)],1)},s=[],n=e("c585"),o=e("9c02"),l=e("c24f"),r={data:function(){return{payJudej:!0,payBtnDisabled:!1,orderNo:"",codeUrl:"url",payOrder:{productId:"",payType:"wxpay"},PaymentDialogVisibleLogin:!1,wxDialogVisible:!1,aliDialogVisible:!1,form:{integral:""}}},methods:{queryOrderStatus:function(){var t=this,a=JSON.parse(window.localStorage.getItem("access-admin"));console.log("查询订单状态"),Object(l["f"])(a.data.userid,this.form.integral,this.orderNo).then((function(a){console.log(a),402==a.data.code||400==a.data.code||200==a.data.code&&(console.log("清除定时器"),clearInterval(t.timer),t.wxDialogVisible=!1,t.aliDialogVisible=!1,t.$notify({title:"支付成功",message:"您已成功购买",type:"success",offset:50}))}))},closeDialog:function(){console.log("close................."),this.payBtnDisabled=!1,console.log("清除定时器"),clearInterval(this.timer)},selectPayTypeLogin:function(t){var a=this;if(console.log("支付方式："+t),this.payOrder.payType=t,this.PaymentDialogVisibleLogin=!1,"alipay"===this.payOrder.payType){this.aliDialogVisible=!0;var e=JSON.parse(window.localStorage.getItem("access-admin"));o["a"].ftofPayVipIntegralLogin(this.form.integral,e.data.userid).then((function(t){console.log(t.data.data.codeUrl),a.codeUrl=t.data.data.codeUrl,a.orderNo=t.data.data.orderNo,a.timer=setInterval((function(){a.queryOrderStatus()}),3e3)}))}if("wxpay"===this.payOrder.payType){this.wxDialogVisible=!0;var i=JSON.parse(window.localStorage.getItem("access-admin"));n["a"].nativePayVipIntegralLogin(this.form.integral,i.data.userid).then((function(t){console.log(t.data.data.codeUrl),a.codeUrl=t.data.data.codeUrl,a.orderNo=t.data.data.orderNo,a.timer=setInterval((function(){a.queryOrderStatus()}),3e3)}))}},onSubmit:function(){var t=JSON.parse(window.localStorage.getItem("access-admin"));this.userJudje=null==t,this.userJudje||(this.userid=t.data.userid),this.userJudje?this.$notify({title:"失败",message:"暂未登陆请登陆后重试",type:"warning",offset:50}):(console.log("登陆用户购买"),this.payBtnDisabled=!0,this.PaymentDialogVisibleLogin=!0)}}},c=r,u=(e("c30c"),e("cf2c"),e("9672"),e("c564"),e("a69b"),e("2877")),d=Object(u["a"])(c,i,s,!1,null,"05cfb598",null);a["default"]=d.exports},"27d9":function(t,a,e){t.exports=e.p+"static/img/jifen.a8858025.svg"},"29d4":function(t,a,e){t.exports=e.p+"static/img/alipaybig.c84117a9.png"},"2d81":function(t,a,e){t.exports=e.p+"static/img/weixinbig.2d3ba528.png"},"3a28":function(t,a,e){},"530d":function(t,a,e){t.exports=e.p+"static/img/zhifubaorenzheng.7ad2afce.svg"},7397:function(t,a,e){},9672:function(t,a,e){"use strict";e("cde1")},"9c02":function(t,a,e){"use strict";var i=e("b775");a["a"]={ftofPay:function(t){return Object(i["a"])({url:"/Pay-api/ali-pay/test-ftof/"+t,method:"post"})},ftofPayTemp:function(t){return Object(i["a"])({url:"/Pay-api/ali-pay/temp-ftof/"+t,method:"post"})},ftofPayLogin:function(t,a){return Object(i["a"])({url:"/Pay-api/ali-pay/login-ftof/"+t+"/"+a,method:"post"})},ftofPayVipIntegralLogin:function(t,a){return Object(i["a"])({url:"/Pay-api/ali-pay/vipIntegral-ftof/"+t+"/"+a,method:"post"})},ftofPayForVipLogin:function(t,a,e){return Object(i["a"])({url:"/Pay-api/ali-pay/vip-ftof/"+t+"/"+a+"/"+e,method:"post"})},cancel:function(t){return Object(i["a"])({url:"/Pay-api/ali-pay/cancel/"+t,method:"post"})},refunds:function(t,a){return Object(i["a"])({url:"/Pay-api/ali-pay/refunds/"+t+"/"+a,method:"post"})}}},a69b:function(t,a,e){"use strict";e("fc87")},add2:function(t,a,e){},c24f:function(t,a,e){"use strict";e.d(a,"g",(function(){return s})),e.d(a,"h",(function(){return n})),e.d(a,"e",(function(){return o})),e.d(a,"b",(function(){return l})),e.d(a,"a",(function(){return r})),e.d(a,"d",(function(){return c})),e.d(a,"f",(function(){return u})),e.d(a,"c",(function(){return d}));var i=e("b775");function s(){return Object(i["a"])({url:"/UserRole/getAllUserName",method:"get"})}function n(){return Object(i["a"])({url:"/UserRole/getAllUserRole",method:"get"})}function o(t){return Object(i["a"])({url:"/User/GetUserInfoByid/"+t,method:"get"})}function l(t,a){return Object(i["a"])({url:"/User/ChangeUser/"+t,method:"post",data:a})}function r(t,a,e,s){return Object(i["a"])({url:"/User/ChangePassword/"+t+"/"+a+"/"+e+"/"+s,method:"post"})}function c(t,a,e){return Object(i["a"])({url:"/User/CreateVip/"+t+"/"+a+"/"+e,method:"get"})}function u(t,a,e){return Object(i["a"])({url:"/User/UpdateIntegral/"+t+"/"+a+"/"+e,method:"get"})}function d(t){return Object(i["a"])({url:"/User/CheckVip/"+t,method:"get"})}},c30c:function(t,a,e){"use strict";e("3a28")},c564:function(t,a,e){"use strict";e("7397")},c585:function(t,a,e){"use strict";var i=e("b775");a["a"]={nativePay:function(t){return Object(i["a"])({url:"/Pay-api/wx-pay/test-native/"+t,method:"post"})},nativePayTemp:function(t){return Object(i["a"])({url:"/Pay-api/wx-pay/temp-native/"+t,method:"post"})},nativePayLogin:function(t,a){return Object(i["a"])({url:"/Pay-api/wx-pay/login-native/"+t+"/"+a,method:"post"})},nativePayVipIntegralLogin:function(t,a){return Object(i["a"])({url:"/Pay-api/wx-pay/vipIntegral-native/"+t+"/"+a,method:"post"})},nativePayVipLogin:function(t,a,e){return Object(i["a"])({url:"/Pay-api/wx-pay/vip-native/"+t+"/"+a+"/"+e,method:"post"})},cancel:function(t){return Object(i["a"])({url:"/Pay-api/wx-pay/cancel/"+t,method:"post"})},refunds:function(t,a){return Object(i["a"])({url:"/Pay-api/wx-pay/refunds/"+t+"/"+a,method:"post"})}}},cde1:function(t,a,e){},cf2c:function(t,a,e){"use strict";e("add2")},f360:function(t,a,e){t.exports=e.p+"static/img/weixinzhifu.7f392fa3.svg"},fc87:function(t,a,e){}}]);