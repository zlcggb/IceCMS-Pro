(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3f66fd83"],{"0e43":function(t,e,r){"use strict";r.r(e);var o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"bg-fa of"},[r("section",{staticClass:"container",attrs:{id:"index"}},[t._m(0),r("el-table",{staticStyle:{width:"100%"},attrs:{data:t.list,border:""}},[r("el-table-column",{attrs:{type:"index",width:"50"}}),r("el-table-column",{attrs:{prop:"orderNo",label:"订单编号",width:"230"}}),r("el-table-column",{attrs:{prop:"title",label:"订单标题",width:"230"}}),r("el-table-column",{attrs:{prop:"totalFee",label:"订单金额"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.totalFee/100)+" 元 ")]}}])}),r("el-table-column",{attrs:{width:"105",label:"订单状态"},scopedSlots:t._u([{key:"default",fn:function(e){return["未支付"===e.row.orderStatus?r("el-tag",[t._v(" "+t._s(e.row.orderStatus)+" ")]):t._e(),"支付成功"===e.row.orderStatus?r("el-tag",{attrs:{type:"success"}},[t._v(" "+t._s(e.row.orderStatus)+" ")]):t._e(),"超时已关闭"===e.row.orderStatus?r("el-tag",{attrs:{type:"warning"}},[t._v(" "+t._s(e.row.orderStatus)+" ")]):t._e(),"用户已取消"===e.row.orderStatus?r("el-tag",{attrs:{type:"info"}},[t._v(" "+t._s(e.row.orderStatus)+" ")]):t._e(),"退款中"===e.row.orderStatus?r("el-tag",{attrs:{type:"danger"}},[t._v(" "+t._s(e.row.orderStatus)+" ")]):t._e(),"已退款"===e.row.orderStatus?r("el-tag",{attrs:{type:"info"}},[t._v(" "+t._s(e.row.orderStatus)+" ")]):t._e()]}}])}),r("el-table-column",{attrs:{label:"操作",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return["未支付"===e.row.orderStatus?r("el-button",{attrs:{type:"text"},on:{click:function(r){return t.cancel(e.row.orderNo)}}},[t._v("取消")]):t._e(),"支付成功"===e.row.orderStatus?r("el-button",{attrs:{type:"text"},on:{click:function(r){return t.refund(e.row.orderNo)}}},[t._v("退款")]):t._e()]}}])})],1)],1),r("el-dialog",{attrs:{visible:t.refundDialogVisible,width:"350px",center:""},on:{"update:visible":function(e){t.refundDialogVisible=e},close:t.closeDialog}},[r("el-form",[r("el-form-item",{attrs:{label:"退款原因"}},[r("el-select",{attrs:{placeholder:"请选择退款原因"},model:{value:t.reason,callback:function(e){t.reason=e},expression:"reason"}},[r("el-option",{attrs:{label:"不喜欢",value:"不喜欢"}}),r("el-option",{attrs:{label:"买错了",value:"买错了"}})],1)],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"primary",disabled:t.refundSubmitBtnDisabled},on:{click:function(e){return t.toRefunds()}}},[t._v("确 定")])],1)],1)],1)},s=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("header",{staticClass:"comm-title"},[r("h2",{staticClass:"fl tac"},[r("span",{staticClass:"c-333"},[t._v("订单列表")])])])}],a=r("117e"),n={data:function(){return{list:[],refundDialogVisible:!1,orderNo:"",reason:"",refundSubmitBtnDisabled:!1}},created:function(){this.showOrderList()},methods:{showOrderList:function(){var t=this;a["a"].list().then((function(e){console.log("123"),console.log(e),t.list=e.data.data.list}))},cancel:function(t){var e=this;wxPayApi.cancel(t).then((function(t){e.$message.success(t.message),e.showOrderList()}))},refund:function(t){this.refundDialogVisible=!0,this.orderNo=t},closeDialog:function(){console.log("close................."),this.refundDialogVisible=!1,this.orderNo="",this.reason="",this.refundSubmitBtnDisabled=!1},toRefunds:function(){var t=this;this.refundSubmitBtnDisabled=!0,wxPayApi.refunds(this.orderNo,this.reason).then((function(e){console.log("response",e),t.closeDialog(),t.showOrderList()}))}}},l=n,i=(r("7b1e"),r("2877")),u=Object(i["a"])(l,o,s,!1,null,"43a338d8",null);e["default"]=u.exports},"117e":function(t,e,r){"use strict";var o=r("b775");e["a"]={list:function(){return Object(o["a"])({url:"/Pay-api/order-info/list",method:"get"})},PaylistById:function(t){return Object(o["a"])({url:"/Pay-api/order-info/PaylistById/"+t,method:"get"})},queryOrderStatus:function(t){return Object(o["a"])({url:"/Pay-api/order-info/query-order-status/"+t,method:"get"})},queryOrderStatusBytrue:function(t,e){return Object(o["a"])({url:"/Pay-api/order-info/query-order-status-Bytrue/"+t+"/"+e,method:"get"})}}},"7b1e":function(t,e,r){"use strict";r("9a20")},"9a20":function(t,e,r){}}]);